function IsNodeInSection(a,b){var c=Math.abs(a._x-b.x-b.width()/2),d=Math.abs(a._y-b.y-b.height()/2);if(c>b.width()/2+a.radius)return!1;if(d>b.height()/2+a.radius)return!1;if(c<=b.width()/2)return!0;if(d<=b.height()/2)return!0;var e=c-b.width()/2,f=d-b.height()/2;return e*e+f*f<=a.radius*a.radius}function setNodePosition(a,b){var c,d,e,f=Game.nodes[a-1],g=renderer.width/2-b,h=renderer.height/2-b;if(a>1){var e=random(0,2);c=Game.nodes[a]._x=e>0?f._x>g?random(b+Game.setup.offset,f._x-g+b):random(f._x+g,renderer.width-b-Game.setup.offset):random(b,renderer.width-b),d=Game.nodes[a]._y=e<2?f._y>h?random(b+Game.setup.offset,f._y-h+b):random(f._y+h,renderer.height-b-Game.setup.offset):random(b,renderer.height-b)}else c=Game.nodes[a]._x=random(b,renderer.width-b),d=Game.nodes[a]._y=random(b,renderer.height-b);for(var i=1;i<Game.nodes.length-1;i++)if(c>=Game.nodes[i]._x-b&&c<=Game.nodes[i]._x+b&&d>=Game.nodes[i]._y-b&&d<=Game.nodes[i]._y+b)return setNodePosition(a,b);return{x:c,y:d}}function intersectionBetween(a,b){var c,d,e,f,g,h={};return d=a.ay-b.ay,e=a.ax-b.ax,c=(b.by-b.ay)*(a.bx-a.ax)-(b.bx-b.ax)*(a.by-a.ay),0===c?{x:a.ax,y:a.ay}:(f=(b.bx-b.ax)*d-(b.by-b.ay)*e,g=(a.bx-a.ax)*d-(a.by-a.ay)*e,d=f/c,e=g/c,d>0&&d<1&&e>0&&e<1&&(h.x=a.ax+d*(a.bx-a.ax),h.y=a.ay+d*(a.by-a.ay),h))}function checkLineIntersection(a,b){if(!b.hasOwnProperty("ax"))return{onLine1:!1,onLine2:!1};var c,d,e,f,g,h={x:null,y:null,onLine1:!1,onLine2:!1};return c=(b.by-b.ay)*(a.bx-a.ax)-(b.bx-b.ax)*(a.by-a.ay),0===c?h:(d=a.ay-b.ay,e=a.ax-b.ax,f=(b.bx-b.ax)*d-(b.by-b.ay)*e,g=(a.bx-a.ax)*d-(a.by-a.ay)*e,d=f/c,e=g/c,h.x=a.ax+d*(a.bx-a.ax),h.y=a.ay+d*(a.by-a.ay),d>0&&d<1&&(h.onLine1=!0),e>0&&e<1&&(h.onLine2=!0),h)}function pointInTriangle(a,b,c,d){var e=.5*(-c.y*d.x+b.y*(-c.x+d.x)+b.x*(c.y-d.y)+c.x*d.y),f=e<0?-1:1,g=(b.y*d.x-b.x*d.y+(d.y-b.y)*a.x+(b.x-d.x)*a.y)*f,h=(b.x*c.y-b.y*c.x+(b.y-c.y)*a.x+(c.x-b.x)*a.y)*f;return g>0&&h>0&&g+h<2*e*f}var Game={},renderer=PIXI.autoDetectRenderer(window.width,window.height,{resolution:1,antialias:!0,transparent:!1,backgroundColor:1122850});Game.init=function(){document.body.appendChild(renderer.view),Game.start()},Game.setup={count:30,padding:15,offset:60,rows:10,columns:10,fps:24,depth:5,lifes:10,visible_nodes:2,analog:{x:740,y:540,R:50}},Game.loader=PIXI.loader,Game.nodes=[],Game.sectors=[],Game.scene={},Game.start=function(){Game.scene=new PIXI.Container,Game.scene.interactive=!0,Game.section_width=renderer.width/Game.setup.rows,Game.section_height=renderer.height/Game.setup.columns;for(var a=0;a<=Game.setup.rows;a++){Game.sectors[a]=[];for(var b=0;b<=Game.setup.columns;b++)Game.sectors[a][b]=new Sector(a,b)}for(var a=1;a<=Game.setup.count;a++){Game.nodes[a]=new PIXI.Graphics,Game.scene.addChild(Game.nodes[a]),Game.nodes[a]._id=a,Game.nodes[a].radius=Game.setup.padding;for(var c=setNodePosition(a,Game.setup.offset),d=~~(c.x/(renderer.width/Game.setup.columns)),e=~~(c.y/(renderer.height/Game.setup.rows)),f=0,g=-1;g<=1;g++)for(var h=-1;h<=1&&("undefined"==typeof Game.sectors[d+g]||"undefined"==typeof Game.sectors[d+g][e+h]||!IsNodeInSection(Game.nodes[a],Game.sectors[d+g][e+h])||(Game.sectors[d+g][e+h].addNode(Game.nodes[a]),f++,4!==f));h++);Game.nodes[a].lineStyle(1,16724736,1),Game.nodes[a].beginFill(6737151),Game.nodes[a].drawCircle(c.x,c.y,Game.setup.padding),Game.nodes[a].endFill();var i=new PIXI.Text(a,{font:"22px Arial"});i.anchor.set(.5,.5),i.position.x=c.x,i.position.y=c.y,Game.setup.visible_nodes<a&&(i.visible=!1),Game.nodes[a].addChild(i)}Game.pointer=new Pointer,Game.analog=new Analog(Game.pointer),Game.pointer.init(),Game.scene.addChild(Game.analog.getCircle()),Game.scene.addChild(Game.analog.getControler()),renderer.render(Game.scene)},Game.end=function(a){var a=a||"You WIN!!!",b=new PIXI.Container;Game.scene.interactive=!1,b.x=0,b.y=0,b.width=renderer.width,b.height=renderer.height,Game.analog.disable();var c=new PIXI.Graphics;c.alpha=.5,c.width=300,c.height=200,c.beginFill(17561),c.drawRect(0,0,renderer.width,renderer.height),c.endFill();var d=new PIXI.Text(a,{font:"64px Arial",fill:5296208});d.anchor.set(.5,.5),d.position.x=renderer.width/2,d.position.y=renderer.height/2,c.addChild(d),b.addChild(c),Game.scene.addChild(b),renderer.render(Game.scene)};var Sector=function(a,b){var c=renderer.width/Game.setup.columns,d=renderer.height/Game.setup.rows,e=[],g=[],h=new PIXI.Graphics;this.x=c*a,this.y=d*b;var i=[{ax:this.x,ay:this.y,bx:this.x+c,by:this.y},{ax:this.x+c,ay:this.y,bx:this.x+c,by:this.y+d},{ax:this.x+c,ay:this.y+d,bx:this.x,by:this.y+d},{ax:this.x,ay:this.y+d,bx:this.x,by:this.y}];return this.addNode=function(a){e.push(a)},this.getInstance=function(){return h},this.getSegments=function(){return g},this.getNodes=function(){return e},this.width=function(){return c},this.height=function(){return d},this.addSegment=function(a){g.push(a)},this.clearSegments=function(a){for(var b=g.length-1;b>=0;b--)g[b].n===a&&g.splice(b,1)},this.intersectionWith=function(a){for(var b=0;b<i.length;b++){var c=intersectionBetween(a,i[b]);if(c.hasOwnProperty("x"))return c}return!1},this},Analog=function(a){var b=Game.setup.analog.x,c=Game.setup.analog.y,d=Game.setup.analog.R,a=a||{},f=!1;return this.getCircle=function(){var a=new PIXI.Graphics;return a.lineStyle(3,16724736,1),a.beginFill(0,0),a.drawCircle(b,c,d),a.endFill(),this.circle=a,a},this.getControler=function(){var e=renderer.plugins.interaction.mouse;return circle=new PIXI.Graphics,circle.interactive=!0,circle.mousedown=circle.touchstart=function(){f=!0,window.addEventListener("mouseup",function(){f&&circle.mouseup()});var d=e.getLocalPosition(circle.parent);circle.x=d.x-b,circle.y=d.y-c,a.start(circle.x,circle.y,round(Math.sqrt(circle.x*circle.x+circle.y*circle.y))),renderer.render(circle.parent)},circle.mouseup=circle.touchend=function(){f=!1,a.stop(),circle.update()},circle.mousemove=circle.touchmove=function(){if(f){var g=e.getLocalPosition(circle.parent),h=g.x-b,i=g.y-c,j=new Big(h*h+i*i),k=j.sqrt();k>d&&(h=h/k*d,i=i/k*d),a.setDirection(h,i,k),circle.x=h,circle.y=i,renderer.render(circle.parent)}},circle.update=function(){var a=Math.sqrt(circle.x*circle.x+circle.y*circle.y);circle.x=circle.x/(d+1)*a,circle.y=circle.y/(d+1)*a,renderer.render(circle.parent),0===circle.x&&0===circle.y||requestAnimationFrame(circle.update)},circle.lineStyle(1,16724736,1),circle.beginFill(0),circle.drawCircle(b,c,10),circle.endFill(),circle},this.disable=function(){circle.interactive=!1},this},random=function(a,b){return~~(Math.random()*(b-a+1)+a)},pointToPointDistance=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},round=function(a,b){var c=10*(b?b:2);return Math.round(a*c)/c},range=function(a,b,c){return Math.min(c,Math.max(b,a))},Pointer=function(){var b,c,f,g,h,i,n,o,p,q,u,v,w,x,y,z,A,B,a=!1,d=!1,e=2,j=Game.setup.analog,k=16750916,l=Game.setup.fps,m=new PIXI.Container,r={},s={};this.init=function(){n=1,F(),o=n+1,Game.loader.add("pointer","img/pointer.png"),Game.loader.load(function(a,d){var e=new PIXI.Texture.fromImage(d.pointer.url);c=new PIXI.Sprite(e),c.anchor.x=.5,c.anchor.y=1,C(),h=f=~~(u/(renderer.width/Game.setup.columns)),i=g=~~(v/(renderer.height/Game.setup.rows)),p=Game.sectors[f][g],p.addSegment({ax:u,ay:v,bx:u,by:v,n:n}),q=p.getSegments(),m.addChild(b),Game.scene.addChild(m),Game.scene.addChild(c),renderer.render(Game.scene)})};var C=function(){u=c.dx=c._x=Game.nodes[n]._x,v=c.dy=c._y=Game.nodes[n]._y,y=-c._x,z=-c._y,A=renderer.width-c._x,B=renderer.height-c._y,c.ax=c.ay=1,c.x=u,c.y=v};this.start=function(b,c){this.setDirection(b,c),a=!0,D()},this.stop=function(){a=!1};var D=function(){if(!a)return void renderer.render(Game.scene);if(b.moveTo(c.dx,c.dy),c.dx=c.x+u,c.dy=c.y+v,c.dx<0||c.dx>renderer.width||c.dy<0||c.dy>renderer.height)return void E();f=~~(c.dx/(renderer.width/Game.setup.columns)),g=~~(c.dy/(renderer.height/Game.setup.rows));var e={ax:c.x,ay:c.y,bx:c.dx,by:c.dy,n:n},j=0;if(h!==f||i!==g||d){if(d&&h===f&&i===g)p.addSegment({ax:r.x,ay:r.y,bx:c.dx,by:c.dy,n:n}),r.x=c.dx,r.y=c.dy,j=1;else if(h!==f||i!==g){var k=p.intersectionWith(e);p.addSegment({ax:r.x,ay:r.y,bx:k.x,by:k.y,n:n}),r=k,p=Game.sectors[f][g];var e={ax:k.x,ay:k.y,bx:c.dx,by:c.dy,n:n};p.addSegment(e)}q=p.getSegments();for(var l=~~(renderer.height/Game.setup.columns),t=0;t<q.length-j;t++){var w=checkLineIntersection(e,q[t]);if(w.onLine1&&w.onLine2)return void E();if(w.onLine2){var x=pointToPointDistance(c,{x:w.x,y:w.y});x<l&&pointInTriangle({x:c.dx,y:c.dy},{x:c.x,y:c.y},{x:q[t].ax,y:q[t].ay},{x:q[t].bx,y:q[t].by})&&(l=x,s=q[t])}}}else{var y=checkLineIntersection(e,s);if(y.onLine1&&y.onLine2)return l=~~(renderer.height/Game.setup.columns),void E()}for(var z=p.getNodes(),A=0;A<z.length;A++){var B=c.dx-z[A]._x,G=c.dy-z[A]._y,H=Math.sqrt(B*B+G*G);if(z[A]._id===o&&H<z[A].radius){if(n+Game.setup.visible_nodes<=Game.setup.count&&(Game.nodes[n+Game.setup.visible_nodes].children[0].visible=!0),n>Game.setup.visible_nodes&&(Game.nodes[n-Game.setup.visible_nodes].children[0].visible=!1),n++,n>=Game.setup.count&&(console.log(n),Game.end("You WIN!!!")),a=!1,C(),u=c.dx=z[A]._x,v=c.dy=z[A]._y,h=~~(u/(renderer.width/Game.setup.columns)),i=~~(v/(renderer.height/Game.setup.rows)),o++,n>Game.setup.depth)for(var t=0;t<m.children[0].sections.length;t++){var I=parseInt(m.children[0].sections[t][0]),J=parseInt(m.children[0].sections[t][2]);"undefined"!=typeof Game.sectors[I][J]&&Game.sectors[I][J].clearSegments(n-Game.setup.depth)}return F(),m.addChild(b),void(m.children.length>Game.setup.depth&&m.removeChild(m.children[0]))}if(H<z[A].radius&&z[A]._id!==n)return void E()}b.sections.indexOf(f+"_"+g)===-1&&b.sections.push(f+"_"+g),h=f,i=g,b.lineTo(c.dx,c.dy),c.x=c.dx,c.y=c.dy,renderer.render(Game.scene),requestAnimationFrame(D)},E=function(){Game.setup.lifes--,0===Game.setup.lifes&&Game.end("You LOSE"),u=c.x=c.dx=Game.nodes[n]._x,v=c.y=c.dy=Game.nodes[n]._y,h=~~(u/(renderer.width/Game.setup.columns)),i=~~(v/(renderer.height/Game.setup.rows)),m.removeChild(b);for(var d=0;d<b.sections.length;d++){var e=parseInt(b.sections[d][0]),f=parseInt(b.sections[d][2]);"undefined"!=typeof Game.sectors[e][f]&&Game.sectors[e][f].clearSegments(n)}s={},F(),renderer.render(Game.scene),a=!1},F=function(){b=new PIXI.Graphics,b.lineStyle(e,k,1),b.moveTo(Game.nodes[n]._x,Game.nodes[n]._y),b.lineTo(Game.nodes[n]._x,Game.nodes[n]._y),b.sections=new Array,m.addChild(b),r={x:Game.nodes[n]._x,y:Game.nodes[n]._y}};return this.setDirection=function(a,b){d=(j.y-b)/(j.x-a)!==(j.y-x)/(j.x-w),w=a,x=b,u=a/l,v=b/l},this};!function(a){"use strict";function k(){function a(b){var c=this;return c instanceof a?(b instanceof a?(c.s=b.s,c.e=b.e,c.c=b.c.slice()):m(c,b),void(c.constructor=a)):void 0===b?k():new a(b)}return a.prototype=h,a.DP=b,a.RM=c,a.E_NEG=f,a.E_POS=g,a}function l(a,b,c){var d=a.constructor,e=b-(a=new d(a)).e,f=a.c;for(f.length>++b&&n(a,e,d.RM),f[0]?c?e=b:(f=a.c,e=a.e+e+1):++e;f.length<e;f.push(0));return e=a.e,1===c||c&&(b<=e||e<=d.E_NEG)?(a.s<0&&f[0]?"-":"")+(f.length>1?f[0]+"."+f.join("").slice(1):f[0])+(e<0?"e":"e+")+e:a.toString()}function m(a,b){var c,d,e;for(0===b&&1/b<0?b="-0":i.test(b+="")||o(NaN),a.s="-"==b.charAt(0)?(b=b.slice(1),-1):1,(c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;"0"==b.charAt(d);d++);if(d==(e=b.length))a.c=[a.e=0];else{for(;"0"==b.charAt(--e););for(a.e=c-d-1,a.c=[],c=0;d<=e;a.c[c++]=+b.charAt(d++));}return a}function n(a,b,c,d){var e,f=a.c,g=a.e+b+1;if(1===c?d=f[g]>=5:2===c?d=f[g]>5||5==f[g]&&(d||g<0||f[g+1]!==e||1&f[g-1]):3===c?d=d||f[g]!==e||g<0:(d=!1,0!==c&&o("!Big.RM!")),g<1||!f[0])d?(a.e=-b,a.c=[1]):a.c=[a.e=0];else{if(f.length=g--,d)for(;++f[g]>9;)f[g]=0,g--||(++a.e,f.unshift(1));for(g=f.length;!f[--g];f.pop());}return a}function o(a){var b=new Error(a);throw b.name="BigError",b}var j,b=20,c=1,d=1e6,e=1e6,f=-7,g=21,h={},i=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;h.abs=function(){var a=new this.constructor(this);return a.s=1,a},h.cmp=function(a){var b,c=this,d=c.c,e=(a=new c.constructor(a)).c,f=c.s,g=a.s,h=c.e,i=a.e;if(!d[0]||!e[0])return d[0]?f:e[0]?-g:0;if(f!=g)return f;if(b=f<0,h!=i)return h>i^b?1:-1;for(f=-1,g=(h=d.length)<(i=e.length)?h:i;++f<g;)if(d[f]!=e[f])return d[f]>e[f]^b?1:-1;return h==i?0:h>i^b?1:-1},h.div=function(a){var b=this,c=b.constructor,e=b.c,f=(a=new c(a)).c,g=b.s==a.s?1:-1,h=c.DP;if((h!==~~h||h<0||h>d)&&o("!Big.DP!"),!e[0]||!f[0])return e[0]==f[0]&&o(NaN),f[0]||o(g/0),new c(0*g);var i,j,k,l,m,p,q=f.slice(),r=i=f.length,s=e.length,t=e.slice(0,i),u=t.length,v=a,w=v.c=[],x=0,y=h+(v.e=b.e-a.e)+1;for(v.s=g,g=y<0?0:y,q.unshift(0);u++<i;t.push(0));do{for(k=0;k<10;k++){if(i!=(u=t.length))l=i>u?1:-1;else for(m=-1,l=0;++m<i;)if(f[m]!=t[m]){l=f[m]>t[m]?1:-1;break}if(!(l<0))break;for(j=u==i?f:q;u;){if(t[--u]<j[u]){for(m=u;m&&!t[--m];t[m]=9);--t[m],t[u]+=10}t[u]-=j[u]}for(;!t[0];t.shift());}w[x++]=l?k:++k,t[0]&&l?t[u]=e[r]||0:t=[e[r]]}while((r++<s||t[0]!==p)&&g--);return w[0]||1==x||(w.shift(),v.e--),x>y&&n(v,h,c.RM,t[0]!==p),v},h.eq=function(a){return!this.cmp(a)},h.gt=function(a){return this.cmp(a)>0},h.gte=function(a){return this.cmp(a)>-1},h.lt=function(a){return this.cmp(a)<0},h.lte=function(a){return this.cmp(a)<1},h.sub=h.minus=function(a){var b,c,d,e,f=this,g=f.constructor,h=f.s,i=(a=new g(a)).s;if(h!=i)return a.s=-i,f.plus(a);var j=f.c.slice(),k=f.e,l=a.c,m=a.e;if(!j[0]||!l[0])return l[0]?(a.s=-i,a):new g(j[0]?f:0);if(h=k-m){for((e=h<0)?(h=-h,d=j):(m=k,d=l),d.reverse(),i=h;i--;d.push(0));d.reverse()}else for(c=((e=j.length<l.length)?j:l).length,h=i=0;i<c;i++)if(j[i]!=l[i]){e=j[i]<l[i];break}if(e&&(d=j,j=l,l=d,a.s=-a.s),(i=(c=l.length)-(b=j.length))>0)for(;i--;j[b++]=0);for(i=b;c>h;){if(j[--c]<l[c]){for(b=c;b&&!j[--b];j[b]=9);--j[b],j[c]+=10}j[c]-=l[c]}for(;0===j[--i];j.pop());for(;0===j[0];)j.shift(),--m;return j[0]||(a.s=1,j=[m=0]),a.c=j,a.e=m,a},h.mod=function(a){var b,c=this,d=c.constructor,e=c.s,f=(a=new d(a)).s;return a.c[0]||o(NaN),c.s=a.s=1,b=1==a.cmp(c),c.s=e,a.s=f,b?new d(c):(e=d.DP,f=d.RM,d.DP=d.RM=0,c=c.div(a),d.DP=e,d.RM=f,this.minus(c.times(a)))},h.add=h.plus=function(a){var b,c=this,d=c.constructor,e=c.s,f=(a=new d(a)).s;if(e!=f)return a.s=-f,c.minus(a);var g=c.e,h=c.c,i=a.e,j=a.c;if(!h[0]||!j[0])return j[0]?a:new d(h[0]?c:0*e);if(h=h.slice(),e=g-i){for(e>0?(i=g,b=j):(e=-e,b=h),b.reverse();e--;b.push(0));b.reverse()}for(h.length-j.length<0&&(b=j,j=h,h=b),e=j.length,f=0;e;)f=(h[--e]=h[e]+j[e]+f)/10|0,h[e]%=10;for(f&&(h.unshift(f),++i),e=h.length;0===h[--e];h.pop());return a.c=h,a.e=i,a},h.pow=function(a){var b=this,c=new b.constructor(1),d=c,f=a<0;for((a!==~~a||a<-e||a>e)&&o("!pow!"),a=f?-a:a;1&a&&(d=d.times(b)),a>>=1,a;)b=b.times(b);return f?c.div(d):d},h.round=function(a,b){var c=this,e=c.constructor;return null==a?a=0:(a!==~~a||a<0||a>d)&&o("!round!"),n(c=new e(c),a,null==b?e.RM:b),c},h.sqrt=function(){var a,b,c,d=this,e=d.constructor,f=d.c,g=d.s,h=d.e,i=new e("0.5");if(!f[0])return new e(d);g<0&&o(NaN),g=Math.sqrt(d.toString()),0===g||g===1/0?(a=f.join(""),a.length+h&1||(a+="0"),b=new e(Math.sqrt(a).toString()),b.e=((h+1)/2|0)-(h<0||1&h)):b=new e(g.toString()),g=b.e+(e.DP+=4);do c=b,b=i.times(c.plus(d.div(c)));while(c.c.slice(0,g).join("")!==b.c.slice(0,g).join(""));return n(b,e.DP-=4,e.RM),b},h.mul=h.times=function(a){var b,c=this,d=c.constructor,e=c.c,f=(a=new d(a)).c,g=e.length,h=f.length,i=c.e,j=a.e;if(a.s=c.s==a.s?1:-1,!e[0]||!f[0])return new d(0*a.s);for(a.e=i+j,g<h&&(b=e,e=f,f=b,j=g,g=h,h=j),b=new Array(j=g+h);j--;b[j]=0);for(i=h;i--;){for(h=0,j=g+i;j>i;)h=b[j]+f[i]*e[j-i-1]+h,b[j--]=h%10,h=h/10|0;b[j]=(b[j]+h)%10}for(h&&++a.e,b[0]||b.shift(),i=b.length;!b[--i];b.pop());return a.c=b,a},h.toString=h.valueOf=h.toJSON=function(){var a=this,b=a.constructor,c=a.e,d=a.c.join(""),e=d.length;if(c<=b.E_NEG||c>=b.E_POS)d=d.charAt(0)+(e>1?"."+d.slice(1):"")+(c<0?"e":"e+")+c;else if(c<0){for(;++c;d="0"+d);d="0."+d}else if(c>0)if(++c>e)for(c-=e;c--;d+="0");else c<e&&(d=d.slice(0,c)+"."+d.slice(c));else e>1&&(d=d.charAt(0)+"."+d.slice(1));return a.s<0&&a.c[0]?"-"+d:d},h.toExponential=function(a){return null==a?a=this.c.length-1:(a!==~~a||a<0||a>d)&&o("!toExp!"),l(this,a,1)},h.toFixed=function(a){var b,c=this,e=c.constructor,f=e.E_NEG,g=e.E_POS;return e.E_NEG=-(e.E_POS=1/0),null==a?b=c.toString():a===~~a&&a>=0&&a<=d&&(b=l(c,c.e+a),c.s<0&&c.c[0]&&b.indexOf("-")<0&&(b="-"+b)),e.E_NEG=f,e.E_POS=g,b||o("!toFix!"),b},h.toPrecision=function(a){return null==a?this.toString():((a!==~~a||a<1||a>d)&&o("!toPre!"),l(this,a-1,2))},j=k(),"function"==typeof define&&define.amd?define(function(){return j}):"undefined"!=typeof module&&module.exports?module.exports=j:a.Big=j}(this);